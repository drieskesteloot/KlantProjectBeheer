<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head> 
    <title th:text="#{msg.tijdsregistratie.overzicht}"></title> 
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<link rel="stylesheet" href="/bootstrap.min.css" media="screen"/>
	
	<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>  
   	<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	<!-- --><script type="text/javascript" src="/submit.js"></script>
</head>
<body>
	<div class="container">
    	<div class="page-header" id="banner">
        	<div class="row">
          		<div class="col-lg-8 col-md-7 col-sm-6">
            		<h1 th:text="#{msg.tijdsregistraties}"></h1>
            		<!-- th:action="@{/updateUnsubmittedTijdregistraties}" method="post" th:object="${tijdsregistraties}" class="form-horizontal" enctype="multipart/form-data" -->
						<table id="tblTijdsregistraties" class="table table-striped table-hover">
							<thead>
								<tr>
									<th></th>
									<th th:text="#{msg.tijdsregistratie.gebruiker}"></th>
									<th th:text="#{msg.tijdsregistratie.project}"></th>
									<th th:text="#{msg.tijdsregistratie.datum}"></th>
									<th th:text="#{msg.tijdsregistratie.omschrijving}"></th>
									<th th:text="#{msg.tijdsregistratie.aantalUren}"></th>
									<th th:text="#{msg.tijdsregistratie.submitted}"></th>
									<th th:text="#{msg.tijdsregistratie.validated}"></th>
									<th th:text="#{msg.tijdsregistratie.rejected}"></th>
									<th></th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="tijdsregistratie : ${tijdsregistraties}">
									<td class="trid" th:text="${tijdsregistratie.id}"></td>
									<td th:text="${tijdsregistratie.gebruiker.voornaam + ' ' + tijdsregistratie.gebruiker.naam}"></td>
									<td th:text="${tijdsregistratie.project.naam}"></td>
									<td th:text="${tijdsregistratie.datum}"></td>
									<td th:text="${tijdsregistratie.omschrijving}"></td>
									<td th:text="${tijdsregistratie.aantalUren}"></td>
									<td th:switch="${tijdsregistratie.submitted}">
									    <span th:case="true" th:text="#{messages.true}"></span>
									    <span th:case="false" th:text="#{messages.false}"></span>
									</td>
									<td th:switch="${tijdsregistratie.gevalideerd}">
									    <span th:case="true" th:text="#{messages.true}"></span>
									    <span th:case="false" th:text="#{messages.false}"></span>
									</td>
									<td th:switch="${tijdsregistratie.rejected}">
									    <span th:case="true" th:text="#{messages.true}"></span>
									    <span th:case="false" th:text="#{messages.false}"></span>
									</td>
									<td>
								    	<a th:href="@{/tijdsregistratie/{id}(id=${tijdsregistratie.id})}" th:text="#{msg.bewerk}"></a>
							    	</td>
							    	<td>
								    	<!-- <a th:href="@{/verwijderProject/{id}(id=${project.id})}" th:text="#{msg.verwijder}"></a> -->
							    	</td>
							    </tr>
							</tbody>
						</table>
						<!-- 
						<form id="unSubmitted" class="form-horizontal" th:action="@{/updateUnsubmittedTijdregistraties}" th:object="${tijdsregistraties}" method="post">
							<div class="form-group">
	                			<div class="col-lg-12 col-lg-offset-3">id="submitTijdsregistraties" name="submitTijdsregistraties"
	                				<button type="submit" class="btn btn-primary" th:text="#{msg.bevestigAllemaal}"></button>
	                			</div>
	                		</div>
						</form>
						-->
				</div>
			</div>
			<div class="row">
				<a th:href="@{/nieuweTijdsregistratie/{id}(id=${huidigeGebruiker.id})}" th:text="#{msg.tijdsregistratie.creeerNieuweTijdsregistratie}"></a>
			</div>
			<div class="row">
				<a th:href="@{/submittedTijdsregistraties/{id}(id=${huidigeGebruiker.id})}" th:text="#{msg.tijdsregistratie.submittedTijdsregistraties}"></a>
			</div>
			<div class="row">
				<a th:href="@{/rejectedTijdsregistraties/{id}(id=${huidigeGebruiker.id})}" th:text="#{msg.tijdsregistratie.rejectedTijdsregistraties}"></a>
			</div>
			<div class="row">
				<a th:href="@{/gevalideerdeTijdsregistraties/{id}(id=${huidigeGebruiker.id})}" th:text="#{msg.tijdsregistratie.gevalideerdeTijdsregistraties}"></a>
			</div>
			<div class="row">
				<a th:href="@{/tijdsregistratiesOpDatum}" th:text="#{msg.tijdsregistratie.zoekOpDatum}"></a>
			</div>
			<div class="row">
				<a th:href="@{/mijnProjecten/{id}(id=${huidigeGebruiker.id})}" th:text="#{msg.mijnProjecten}"></a>
			</div>
        	<div class="row">
        		<a th:href="@{/beginscherm}" th:text="#{msg.naarBeginscherm}"></a>
        	</div>
		</div>
	</div>
	<!-- 
	<script th:inline="javascript">
    /*<![CDATA[*/     
		$(function() {
			$("#submitTijdsregistraties").click(function(e){		
				var ids = [];
				
				$(".trid").each(function(){
					ids.push($(this.text()));
				});
				
				$.ajax({
					type : "POST",
					url : "/updateUnsubmittedTijdregistraties",
					//contentType: "application/json",
					data : {JSON.stringify(ids)},
					success : function(response) {
							alert('Ja' + response);
					    },
					    error : function(e) {
					    	alert('Error: ' + e);
					    }
			    });
			});
		});
	/*]]>*/
	</script>
	-->
</body>
</html>